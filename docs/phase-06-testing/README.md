# Phase 6: ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º

## æ¦‚è¦

ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§é–‹ç™ºã§ãã‚‹ã‚¹ã‚­ãƒ«ã‚’ç¿’å¾—ã™ã‚‹ãƒ•ã‚§ãƒ¼ã‚ºã§ã™ã€‚
Vitestã€Testing Libraryã€Playwrightã€fast-check ã‚’ä½¿ã£ãŸå„ç¨®ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã‚’å­¦ã³ã¾ã™ã€‚
EC ã‚µã‚¤ãƒˆã®å“è³ªã‚’æ‹…ä¿ã™ã‚‹ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã‚’èº«ã«ã¤ã‘ã¾ã™ã€‚

---

## é›£æ˜“åº¦

é›£æ˜“åº¦: 3/5ï¼ˆä¸­ç´šï¼‰

ãƒ†ã‚¹ãƒˆã®æ¦‚å¿µç†è§£ã¨ã€ãƒ†ã‚¹ã‚¿ãƒ–ãƒ«ãªã‚³ãƒ¼ãƒ‰è¨­è¨ˆã®è€ƒãˆæ–¹ãŒé‡è¦ã§ã™ã€‚

---

## æ‰€è¦æ™‚é–“ç›®å®‰

ç´„ 8ã€œ12 æ™‚é–“ã§ã™ã€‚

---

## å‰æçŸ¥è­˜

- Phase 1ã€œ5 ã‚’å®Œäº†ã—ã¦ã„ã‚‹ã“ã¨
- React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åŸºæœ¬çš„ãªç†è§£
- Jotai ã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç†ã®ç†è§£
- async/await ã®åŸºæœ¬

---

## å­¦ç¿’ç›®æ¨™

ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã‚’å®Œäº†ã™ã‚‹ã¨ã€ä»¥ä¸‹ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- [ ] Vitest ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã‚‹
- [ ] Testing Library ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã‚‹
- [ ] Storybook + addon-vitest ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã‚‹
- [ ] Playwright ã§ E2E ãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã‚‹
- [ ] playwright-bdd ã§ Gherkin ã‚·ãƒŠãƒªã‚ªã‚’è¨˜è¿°ã§ãã‚‹
- [ ] fast-check ã§ Property-based ãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã‚‹
- [ ] ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã«åŸºã¥ããƒ†ã‚¹ãƒˆæˆ¦ç•¥ã‚’èª¬æ˜ã§ãã‚‹

---

## ç›®æ¬¡

1. [Vitest åŸºç¤](./01-vitest-basics.md)
2. [Testing Library](./02-testing-library.md)
3. [Storybook + Vitest é€£æº](./03-storybook-vitest.md)
4. [Playwright åŸºç¤](./04-playwright-basics.md)
5. [playwright-bdd ã§ Gherkin ã‚·ãƒŠãƒªã‚ª](./05-playwright-bdd.md)
6. [Property-based Testingï¼ˆfast-checkï¼‰](./06-fast-check.md)
7. [ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](./07-test-strategy.md)

### å­¦ç¿’ãƒ•ãƒ­ãƒ¼

```mermaid
graph LR
    A["01 Vitest åŸºç¤"] --> B["02 Testing Library"]
    B --> C["03 Storybook + Vitest"]
    B --> D["04 Playwright"]
    D --> E["05 playwright-bdd"]
    A --> F["06 fast-check"]
    C --> G["07 ãƒ†ã‚¹ãƒˆæˆ¦ç•¥"]
    E --> G
    F --> G
```

---

## æ¼”ç¿’å•é¡Œ

| æ¼”ç¿’                                                             | å†…å®¹                            | é›£æ˜“åº¦ |
| ---------------------------------------------------------------- | ------------------------------- | ------ |
| [æ¼”ç¿’ 1: ã‚«ãƒ¼ãƒˆæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ](./exercises/01-cart-unit-test.md)     | Vitest ã§ã‚«ãƒ¼ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆ | 2/5    |
| [æ¼”ç¿’ 2: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ](./exercises/02-component-test.md) | ProductCard ã‚’ãƒ†ã‚¹ãƒˆ            | 3/5    |
| [æ¼”ç¿’ 3: E2E è³¼å…¥ãƒ•ãƒ­ãƒ¼](./exercises/03-e2e-purchase.md)         | Playwright ã§è³¼å…¥ãƒ•ãƒ­ãƒ¼         | 3/5    |
| [æ¼”ç¿’ 4: Property-based ãƒ†ã‚¹ãƒˆ](./exercises/04-property-test.md) | fast-check ã§ä¾¡æ ¼è¨ˆç®—           | 4/5    |

---

## ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰

```mermaid
graph TD
    subgraph pyramid["ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰"]
        E2E["E2E ãƒ†ã‚¹ãƒˆ<br/>Playwright<br/>ğŸ”º å°‘é‡ãƒ»é«˜ã‚³ã‚¹ãƒˆãƒ»é…ã„"]
        INT["ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ<br/>Testing Library<br/>â—† ä¸­é‡ãƒ»ä¸­ã‚³ã‚¹ãƒˆ"]
        UNIT["ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ<br/>Vitest<br/>â—¼ å¤§é‡ãƒ»ä½ã‚³ã‚¹ãƒˆãƒ»é«˜é€Ÿ"]
    end

    UNIT --> INT --> E2E

    style E2E fill:#ffcccc
    style INT fill:#ffffcc
    style UNIT fill:#ccffcc
```

### EC ã‚µã‚¤ãƒˆã§ã®ãƒ†ã‚¹ãƒˆé…åˆ†

| ãƒ†ã‚¹ãƒˆç¨®åˆ¥     | å¯¾è±¡                             | å‰²åˆ | ãƒ„ãƒ¼ãƒ«          |
| -------------- | -------------------------------- | ---- | --------------- |
| ãƒ¦ãƒ‹ãƒƒãƒˆ       | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ | 60%  | Vitest          |
| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å€‹åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ               | 25%  | Testing Library |
| E2E            | ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹                 | 15%  | Playwright      |

---

## ä½¿ç”¨ãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ«                      | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€”                          |
| --------------------------- | ---------- | ----------------------------- |
| Vitest                      | 3.x        | ãƒ¦ãƒ‹ãƒƒãƒˆ/ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ |
| @testing-library/react      | 16.x       | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ          |
| @testing-library/user-event | 14.x       | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³  |
| Playwright                  | 1.x        | E2E ãƒ†ã‚¹ãƒˆ                    |
| playwright-bdd              | 8.x        | Gherkin ã‚·ãƒŠãƒªã‚ª              |
| fast-check                  | 3.x        | Property-based ãƒ†ã‚¹ãƒˆ         |
| @storybook/addon-vitest     | 10.x       | Storybook é€£æº                |

---

## é–¢é€£ã™ã‚‹ EC ã‚µã‚¤ãƒˆæ©Ÿèƒ½

ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã§ä»¥ä¸‹ã® EC æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆå¯¾è±¡ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚

```mermaid
graph TD
    subgraph unit["ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ"]
        CART["ã‚«ãƒ¼ãƒˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯"]
        PRICE["ä¾¡æ ¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"]
        VALID["ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"]
    end

    subgraph component["ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ"]
        PC["ProductCard"]
        CI["CartItem"]
        FORM["ãƒ•ã‚©ãƒ¼ãƒ "]
    end

    subgraph e2e["E2E ãƒ†ã‚¹ãƒˆ"]
        PURCHASE["è³¼å…¥ãƒ•ãƒ­ãƒ¼"]
        AUTH["èªè¨¼ãƒ•ãƒ­ãƒ¼"]
        SEARCH["å•†å“æ¤œç´¢"]
    end
```

| æ©Ÿèƒ½        | ãƒ†ã‚¹ãƒˆç¨®åˆ¥     | æ¼”ç¿’   |
| ----------- | -------------- | ------ |
| ã‚«ãƒ¼ãƒˆè¨ˆç®—  | ãƒ¦ãƒ‹ãƒƒãƒˆ       | æ¼”ç¿’ 1 |
| ProductCard | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | æ¼”ç¿’ 2 |
| è³¼å…¥ãƒ•ãƒ­ãƒ¼  | E2E            | æ¼”ç¿’ 3 |
| ä¾¡æ ¼è¨ˆç®—    | Property-based | æ¼”ç¿’ 4 |

---

## æ¨å¥¨å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

### å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Vitest ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://vitest.dev/)
- [Testing Library ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://testing-library.com/)
- [Playwright ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://playwright.dev/)
- [fast-check ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://fast-check.dev/)
- [Storybook Testing](https://storybook.js.org/docs/writing-tests)

### å‚è€ƒè¨˜äº‹

- [Testing Library ã®ã‚¯ã‚¨ãƒªå„ªå…ˆé †ä½](https://testing-library.com/docs/queries/about/#priority)
- [Playwright Best Practices](https://playwright.dev/docs/best-practices)

---

## è‡ªå·±ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

Phase 6 ã‚’å®Œäº†ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

- [ ] describe / it / expect ã®ä½¿ã„æ–¹ã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] vi.fn() / vi.mock() / vi.spyOn() ã®é•ã„ã‚’èª¬æ˜ã§ãã‚‹
- [ ] Testing Library ã®ã‚¯ã‚¨ãƒªå„ªå…ˆé †ä½ã‚’èª¬æ˜ã§ãã‚‹
- [ ] userEvent ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã§ãã‚‹
- [ ] Storybook ã® play é–¢æ•°ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã‚‹
- [ ] Playwright ã§ãƒšãƒ¼ã‚¸é·ç§»ã¨ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒã§ãã‚‹
- [ ] Gherkin æ§‹æ–‡ã§ Given / When / Then ã‚’è¨˜è¿°ã§ãã‚‹
- [ ] fast-check ã§ä¸å¤‰æ¡ä»¶ã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹
- [ ] ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã®å„å±¤ã®ç‰¹å¾´ã‚’èª¬æ˜ã§ãã‚‹
- [ ] TDD ã® Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«ã‚’èª¬æ˜ã§ãã‚‹

è©³ç´°ãªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã¯ [checklist.md](./checklist.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## æ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚º

Phase 6 ã‚’å®Œäº†ã—ãŸã‚‰ã€[Phase 7: ãƒ•ã‚©ãƒ¼ãƒ  + Server Actions](../phase-07-forms-validation/README.md) ã«é€²ã¿ã¾ã—ã‚‡ã†ã€‚
